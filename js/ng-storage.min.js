(function(n,t){"use strict";var i=function(i){return["$rootScope","$window","$log","$timeout",function(r,u,f,e){var c=t+"-",l=c.length,s,o={$default:function(t){for(var i in t)n.isDefined(o[i])||(o[i]=t[i]);return o},$reset:function(n){for(var t in o)"$"===t[0]||delete o[t];return o.$default(n)}},h,y,a,v;try{s=u[i];s.length}catch(p){f.warn("This browser does not support Web Storage!");s={}}for(a=0;a<s.length;a++)(v=s.key(a))&&c===v.slice(0,l)&&(o[v.slice(l)]=n.fromJson(s.getItem(v)));return h=n.copy(o),r.$watch(function(){y||(y=e(function(){if(y=null,!n.equals(o,h)){n.forEach(o,function(t,i){n.isDefined(t)&&"$"!==i[0]&&s.setItem(c+i,n.toJson(t));delete h[i]});for(var t in h)s.removeItem(c+t);h=n.copy(o)}},100,!1))}),"localStorage"===i&&u.addEventListener&&u.addEventListener("storage",function(t){c===t.key.slice(0,l)&&(t.newValue?o[t.key.slice(l)]=n.fromJson(t.newValue):delete o[t.key.slice(l)],h=n.copy(o),r.$apply())}),o}]};n.module(t,[]).factory("$localStorage",i("localStorage")).factory("$sessionStorage",i("sessionStorage"))})(angular,"ngStorage");
//# sourceMappingURL=ng-storage.min.js.map
