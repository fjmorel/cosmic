/*! ngstorage 0.3.10 | Copyright (c) 2015 Gias Kay Lee | MIT License */!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(b){return function(){var c="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setKeyPrefix() expects a String.");c=a};var d=a.toJson,e=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setSerializer expects a function.");d=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setDeserializer expects a function.");e=a},this.get=function(a){return e(window[b].getItem(c+a))},this.set=function(a,e){return window[b].setItem(c+a,d(e))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(f,g,h,i,j){function k(a){var b;try{b=g[a]}catch(c){b=!1}if(b&&"localStorage"===a){var d="__"+Math.round(1e7*Math.random());try{localStorage.setItem(d,d),localStorage.removeItem(d)}catch(c){b=!1}}return b}var l,m,n=c.length,o=k(b)||(h.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),p={$default:function(b){for(var c in b)a.isDefined(p[c])||(p[c]=a.copy(b[c]));return p.$sync(),p},$reset:function(a){for(var b in p)"$"===b[0]||delete p[b]&&o.removeItem(c+b);return p.$default(a)},$sync:function(){for(var a,b=0,d=o.length;d>b;b++)(a=o.key(b))&&c===a.slice(0,n)&&(p[a.slice(n)]=e(o.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(p,l)){b=a.copy(l),a.forEach(p,function(e,f){a.isDefined(e)&&"$"!==f[0]&&(o.setItem(c+f,d(e)),delete b[f])});for(var e in b)o.removeItem(c+e);l=a.copy(p)}}};return p.$sync(),l=a.copy(p),f.$watch(function(){m||(m=i(p.$apply,100,!1))}),g.addEventListener&&g.addEventListener("storage",function(b){if(b.key){var d=j[0];d.hasFocus&&d.hasFocus()||c!==b.key.slice(0,n)||(b.newValue?p[b.key.slice(n)]=e(b.newValue):delete p[b.key.slice(n)],l=a.copy(p),f.$apply())}}),g.addEventListener&&g.addEventListener("beforeunload",function(){p.$apply()}),p}]}}return a=a&&a.module?a:window.angular,a.module("ngStorage",[]).provider("$localStorage",b("localStorage")).provider("$sessionStorage",b("sessionStorage"))});
!function e(n,t,r){function i(a,l){if(!t[a]){if(!n[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[a]={exports:{}};n[a][0].call(u.exports,function(e){var t=n[a][1][e];return i(t?t:e)},u,u.exports,e,n,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,t){"use strict";var r=function(){function e(e){var n=this.alien;"string"==typeof n.description&&(n.description=e.trustAsHtml(n.description))}return e}();t.Controller=r,t.template='\n<md-card>\n<md-card-content class ="alien-head">\n	<md-button class ="md-alien{{::$ctrl.alien.level}}-theme md-raised md-primary" ng-click="$ctrl.opened = !$ctrl.opened">{{$ctrl.opened ? \'-\': \'+\'}}</md-button>\n	<h2 class ="md-alien{{::$ctrl.alien.level}}-theme md-title alien-fg-{{::$ctrl.alien.level}}">{{::$ctrl.alien.name}}</h2>\n	<p class ="md-subhead clear">{{::$ctrl.alien.power}}</p>\n</md-card-content>\n<md-card-footer class ="alien-bar alien-bg-{{::$ctrl.alien.level}}">\n	<span class ="alien-panel-game">C{{::$ctrl.alien.game}}</span>\n	<span class ="alien-panel-level">{{::$ctrl.alien.level | levelStars}}</span>\n	<span ng-if="::($ctrl.alien.setup || $ctrl.alien.restriction)">⚠</span>\n	<span class ="clear"></span>\n</md-card-footer>\n<md-card-footer ng-if="$ctrl.opened" class ="alien-desc md-body-1" ng-bind-html="::$ctrl.alien.description">\n</md-card-footer>\n</md-card>\n'},{}],2:[function(e,n,t){"use strict";var r=e("./generator.service");t.Service=r.Service;var i=function(){function e(e,n){function t(e){e&&(i.state=e.message,i.aliensToShow=e.aliens,e.limit&&(i.settings.numToChoose=e.limit),i.status=n.getStatus(),i.disabled=n.getDisabledActions(i.settings.numToChoose,i.aliensToShow.length))}function r(){var e=i.settings;t(n.reset(e.complexities,e.games,e.namesExcluded,e.setupLevel)),i.restrictNumToChoose()}this.status="0 of 0 drawn.",this.state="Loading aliens...",this.aliensToShow=[],this.disabled={draw:!0,hide:!0,show:!0,redo:!0,reset:!0};var i=this;e.$default({complexities:[!0,!0,!0],games:{E:!0},namesExcluded:[],setupLevel:"none",numToChoose:2,preventConflicts:!0}),i.settings=e,i.change=r;var o=0;i.reset=function(){confirm("Reset list of aliens?")?r():o++,o>2&&(t(n.getAllGiven()),o=0)},i.restrictNumToChoose=function(){i.settings.numToChoose=n.getChooseLimit(i.settings.numToChoose)},i.draw=function(){return t(n.draw(i.settings.numToChoose,i.settings.preventConflicts))},i.hide=function(){return t(n.hide())},i.show=function(){return t(n.show())},i.redo=function(){return t(n.redo(i.settings.numToChoose,i.settings.preventConflicts))},n.init.then(function(e){i.namesAll=e}).then(r)}return e}();t.Controller=i},{"./generator.service":3}],3:[function(e,n,t){"use strict";var r=function(){function e(e){function n(n){return n.sort().map(e.get)}function t(n){var t=Math.floor(Math.random()*c.length);if(c[t]){var r=c.splice(t,1)[0];a.push(r);var i=e.get(r);if(n&&i.restriction)for(var o=i.restriction.split(","),l=0;l<o.length;l++){var u=c.indexOf(o[l]);u>-1&&s.push(c.splice(u,1)[0])}return r}}function r(){l=l.concat(a,s),s=[],a=[]}function i(){c=c.concat(a,s),a=[],s=[]}var o=this;o.init=e.init;var a=[],l=[],s=[],c=[];o.reset=function(n,t,r,i){return c=e.getMatchingNames(n,t,r,i),l=[],a=[],s=[],{aliens:[],message:"List reset."}},o.getAllGiven=function(){return r(),{aliens:n(l),message:"Aliens given out so far:"}},o.getChooseLimit=function(e){var n=e,t=c.length;return t>0&&n>t&&(n=t),1>n&&(n=1),n},o.draw=function(e,l){void 0===l&&(l=!1),r();for(var s=0;e>s;s++){var c=t(l);if(!c)break}return a.length<e?(i(),{aliens:[],message:"Not enough potential aliens left."+(l?' It\'s possible that the "Prevent conflicts" option is preventing me from displaying remaining aliens.':"")}):{aliens:n(a),message:"Choices:",limit:o.getChooseLimit(e)}},o.hide=function(){return{aliens:[],message:"Choices hidden."}},o.show=function(){var e=a.map(function(e){return e[0].toLowerCase()});return e.indexOf((prompt("Enter the first initial of one of the aliens you were given, then click OK.")||"").toLowerCase())<0?{aliens:[],message:"Wrong letter."}:{aliens:n(a),message:"Choices:"}},o.redo=function(e,t){return void 0===t&&(t=!1),confirm("Redo?")?(i(),o.draw(e,t)):{aliens:n(a),message:"Choices:"}},o.getDisabledActions=function(e,n){return{draw:c.length<e,hide:1>n,show:!(a.length>0&&1>n),redo:a.length<=0||0>=n,reset:a.length<=0&&l.length<=0}},o.getStatus=function(){var e=a.length+l.length+s.length;return e+" of "+(e+c.length)+" drawn."}}return e.prototype.getChooseLimit=function(e){return 0},e}();t.Service=r},{}],4:[function(e,n,t){"use strict";t.Games="\n<md-card-content>\n<h4 class =\"md-title\">Games to include</h4>\n<md-checkbox ng-change=\"$ctrl.save()\" ng-model=\"$ctrl.options[game]\" ng-repeat=\"game in ::['E', 'A', 'C', 'D', 'I', 'S']\"\nclass =\"md-primary\">{{::game | gameName}}</md-checkbox>\n</md-card-content>\n",t.Levels="\n<md-card-content>\n<h4 class =\"md-title\">Levels to include</h4>\n<md-checkbox ng-change=\"$ctrl.save()\" ng-model=\"$ctrl.options[level]\" ng-repeat=\"(level, name) in ::['Green','Yellow','Red']\"\nng-class =\"::'md-primary md-alien'+level+'-theme'\">{{::name}}</md-checkbox>\n</md-card-content>\n"},{}],5:[function(e,n,t){"use strict";var r=function(){function e(e,n,t){var r=this;n.$default({complexities:[!0,!0,!0],games:{E:!0},orderPref:["name"],groupPref:["game","level"]}),r.complexities=n.complexities,r.games=n.games,r.orderPref=n.orderPref,r.groupPref=n.groupPref,r.alienGroups=[],r.change=function(){r.alienGroups=t(e.getMatchingNames(r.complexities,r.games).map(e.get),r.groupPref)},e.init.then(r.change)}return e}();t.Controller=r},{}],6:[function(e,n,t){"use strict";var r=function(){function e(e){var n=this,t={},r=[];n.init=e.get("data/aliens.json").then(function(e){return e.data.list.forEach(function(e){t[e.name]=e,r.push(e.name)}),r.sort(),r.slice(0)}),n.get=function(e){return t[e]||{}},n.getMatchingNames=function(e,n,i,o){var a=r.filter(function(r){return e[t[r].level]&&n[t[r].game]});return i&&i.length&&(a=a.filter(function(e){return i.indexOf(e)<0})),o&&"none"!==o&&(a=a.filter(function(e){return!t[e].setup||"color"===o&&"color"!==t[e].setup})),a}}return e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},{}],7:[function(e,n,t){"use strict";function r(e){function n(n,t,r,i){e.definePalette(t,e.extendPalette(r,{500:i,contrastDefaultColor:"light"})),e.theme("alien"+n).primaryPalette(t).accentPalette("deep-purple")}n(0,"alien-green","green","189247"),n(1,"alien-yellow","deep-orange","c39c07"),n(2,"alien-red","red","c31b09")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},{}],8:[function(e,n,t){"use strict";function r(){function e(n,t,r){if(t.length<1)return[{value:"",items:n}];var i={},o=t[r];n.forEach(function(e){var n=e[o];i[n]=i[n]||[],i[n].push(e)});var a=Object.keys(i).sort().map(function(e){return{value:e,items:i[e]}});return t[r+1]&&(a=a.map(function(n){return{value:n.value,items:e(n.items,t,r+1)}})),a}return function(n,t){return e(n,t,0)}}function i(){var e={E:"Encounter",A:"Alliance",C:"Conflict",D:"Dominion",I:"Incursion",S:"Storm"};return function(n){return"Cosmic "+e[n]}}function o(){var e=["success","warning","danger"];return function(n){return e[n]}}function a(){var e=["★","★★","★★★"];return function(n){return e[n]}}function l(){var e=["Green","Yellow","Red"];return function(n){return e[n]}}t.GroupBy=r,t.InitialToGameName=i,t.LevelToClass=o,t.LevelToStars=a,t.LevelToName=l},{}],9:[function(e,n,t){"use strict";var r=function(){function e(e){this.open=function(){e("left").open()}}return e}();t.Controller=r,t.template='\n<md-sidenav md-whiteframe="2" class ="md-sidenav-left" md-component-id="left">\n	<md-toolbar class ="md-tall">\n		<div class ="md-toolbar-tools">\n			<h2>Cosmic Companion</h2>\n		</div>\n	</md-toolbar>\n	<md-content>\n		<md-list>\n			<md-list-item><md-button href="index.html">Home</md-button></md-list-item>\n			<md-subheader class ="md-no-sticky">Tools</md-subheader>\n			<md-list-item><md-button href="generator.html" ng-disabled="$ctrl.page === \'generator\'">Alien Generator</md-button></md-list-item>\n			<md-list-item><md-button href="reference.html" ng-disabled="$ctrl.page === \'reference\'">Alien Reference</md-button></md-list-item>\n			<md-list-item>\n				<a href="https://play.google.com/store/apps/details?id=net.fmorel.cosmicgenerator">\n					<img src="icons/playstore_badge.png" />\n				</a>\n			</md-list-item>\n		</md-list>\n	</md-content>\n</md-sidenav>\n'},{}],10:[function(e,n,t){"use strict";t.template='\n<md-toolbar class ="md-hue-2">\n  <div class ="md-toolbar-tools">\n    <md-button class ="md-icon-button" ng-click="$ctrl.drawer.open()" aria-label="Settings">\n      <ng-md-icon icon="menu" style="fill:#fff;"></ng-md-icon>\n    </md-button>\n    <h2>{{$ctrl.title}}</h2>\n  </div>\n</md-toolbar>\n'},{}],11:[function(e,n,t){"use strict";function r(e){e.definePalette("cosmic-warn",e.extendPalette("red",{500:"c31b09",contrastDefaultColor:"dark"})),e.theme("default").primaryPalette("deep-purple").accentPalette("amber"),e.theme("warn").primaryPalette("cosmic-warn").accentPalette("orange")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},{}],12:[function(e,n,t){"use strict";var r=e("./theme"),i=e("./nav.drawer"),o=e("./nav.toolbar"),a=e("./filters"),l=e("./aliens/service"),s=e("./aliens/theme"),c=e("./aliens/alien.component"),u=e("./aliens/generator.controller"),m=e("./aliens/reference.controller"),d=e("./aliens/options");angular.module("base",["ngMaterial","ngMdIcons"]).config(["$mdThemingProvider",r["default"]]).value("gameInitials",["E","A","C","D","I","S"]).filter("gameName",a.InitialToGameName).filter("groupBy",a.GroupBy).component("cosmicDrawer",{template:i.template,bindings:{page:"<"}}).component("cosmicToolbar",{template:o.template,bindings:{title:"<",drawer:"<"}}).controller("NavDrawer",["$mdSidenav",i.Controller]),angular.module("aliens",["ngMaterial"]).service("alienData",["$http",l["default"]]).config(["$mdThemingProvider",s["default"]]).filter("levelClass",a.LevelToClass).filter("levelStars",a.LevelToStars).filter("levelName",a.LevelToName).component("alienPanel",{bindings:{alien:"<item"},template:c.template,controller:["$sce",c.Controller]}).component("alienLevelOptions",{bindings:{options:"=",save:"="},template:d.Levels}).component("alienGameOptions",{bindings:{options:"=",save:"="},template:d.Games}),angular.module("aliens.generator",["base","aliens","ngStorage","ngAria","ngMaterial","ngMdIcons"]).config(["$compileProvider","$localStorageProvider",function(e,n){e.debugInfoEnabled(!1),n.setKeyPrefix("alien-gen-")}]).service("AlienGeneratorService",["alienData",u.Service]).controller("AlienGenerator",["$localStorage","AlienGeneratorService",u.Controller]),angular.module("aliens.reference",["base","aliens","ngStorage","ngAria","ngMaterial","ngMdIcons"]).config(["$compileProvider","$localStorageProvider",function(e,n){e.debugInfoEnabled(!1),n.setKeyPrefix("alien-ref-")}]).controller("AlienReference",["alienData","$localStorage","groupByFilter",m.Controller]),function(e,n,t,r,i,o,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=n.createElement(t),a=n.getElementsByTagName(t)[0],o.async=1,o.src=r,a.parentNode.insertBefore(o,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-76241009-1","auto"),ga("send","pageview")},{"./aliens/alien.component":1,"./aliens/generator.controller":2,"./aliens/options":4,"./aliens/reference.controller":5,"./aliens/service":6,"./aliens/theme":7,"./filters":8,"./nav.drawer":9,"./nav.toolbar":10,"./theme":11}]},{},[12]);