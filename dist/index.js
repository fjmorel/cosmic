/*! ngstorage 0.3.10 | Copyright (c) 2016 Gias Kay Lee | MIT License */!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(a,b){var c;try{c=a[b]}catch(d){c=!1}if(c){var e="__"+Math.round(1e7*Math.random());try{a[b].setItem(e,e),a[b].removeItem(e,e)}catch(d){c=!1}}return c}function c(c){var d=b(window,c);return function(){var e="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setKeyPrefix() expects a String.");e=a};var f=a.toJson,g=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setSerializer expects a function.");f=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setDeserializer expects a function.");g=a},this.supported=function(){return!!d},this.get=function(a){return d&&g(d.getItem(e+a))},this.set=function(a,b){return d&&d.setItem(e+a,f(b))},this.remove=function(a){d&&d.removeItem(e+a)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(d,h,i,j,k){var l,m,n=e.length,o=b(h,c),p=o||(i.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),q={$default:function(b){for(var c in b)a.isDefined(q[c])||(q[c]=a.copy(b[c]));return q.$sync(),q},$reset:function(a){for(var b in q)"$"===b[0]||delete q[b]&&p.removeItem(e+b);return q.$default(a)},$sync:function(){for(var a,b=0,c=p.length;c>b;b++)(a=p.key(b))&&e===a.slice(0,n)&&(q[a.slice(n)]=g(p.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(q,l)){b=a.copy(l),a.forEach(q,function(c,d){a.isDefined(c)&&"$"!==d[0]&&(p.setItem(e+d,f(c)),delete b[d])});for(var c in b)p.removeItem(e+c);l=a.copy(q)}},$supported:function(){return!!o}};return q.$sync(),l=a.copy(q),d.$watch(function(){m||(m=j(q.$apply,100,!1))}),h.addEventListener&&h.addEventListener("storage",function(b){if(b.key){var c=k[0];c.hasFocus&&c.hasFocus()||e!==b.key.slice(0,n)||(b.newValue?q[b.key.slice(n)]=g(b.newValue):delete q[b.key.slice(n)],l=a.copy(q),d.$apply())}}),h.addEventListener&&h.addEventListener("beforeunload",function(){q.$apply()}),q}]}}return a=a&&a.module?a:window.angular,a.module("ngStorage",[]).provider("$localStorage",c("localStorage")).provider("$sessionStorage",c("sessionStorage"))});
!function e(n,t,i){function r(a,l){if(!t[a]){if(!n[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var m=t[a]={exports:{}};n[a][0].call(m.exports,function(e){var t=n[a][1][e];return r(t?t:e)},m,m.exports,e,n,t,i)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,n,t){"use strict";var i=function(){function e(e){var n=this.alien;"string"==typeof n.description&&(n.description=e.trustAsHtml(n.description))}return e}();t.Controller=i,t.Bindings={alien:"<item"},t.template='\n<md-card>\n<md-card-content class ="alien-head">\n\t<md-button class ="md-alien{{::$ctrl.alien.level}}-theme md-raised md-primary" ng-click="$ctrl.opened = !$ctrl.opened">{{$ctrl.opened ? \'-\': \'+\'}}</md-button>\n\t<h2 class ="md-alien{{::$ctrl.alien.level}}-theme md-title alien-fg-{{::$ctrl.alien.level}}">{{::$ctrl.alien.name}}</h2>\n\t<p class ="md-subhead clear">{{::$ctrl.alien.power}}</p>\n</md-card-content>\n<md-card-footer class ="alien-bar alien-bg-{{::$ctrl.alien.level}}">\n\t<span class ="alien-panel-game">C{{::$ctrl.alien.game}}</span>\n\t<span class ="alien-panel-level">{{::$ctrl.alien.level | levelStars}}</span>\n\t<span ng-if="::($ctrl.alien.setup || $ctrl.alien.restriction)">⚠</span>\n\t<span class ="clear"></span>\n</md-card-footer>\n<md-card-footer ng-if="$ctrl.opened" class ="alien-desc md-body-1" ng-bind-html="::$ctrl.alien.description">\n</md-card-footer>\n</md-card>\n'},{}],2:[function(e,n,t){"use strict";t.Bindings={options:"=",save:"="},t.Games="\n<md-card-content>\n<h4 class =\"md-title\">Games to include</h4>\n<md-checkbox ng-change=\"$ctrl.save()\" ng-model=\"$ctrl.options[game]\" ng-repeat=\"game in ::['E', 'A', 'C', 'D', 'I', 'S']\"\nclass =\"md-primary\">{{::game | gameName}}</md-checkbox>\n</md-card-content>\n",t.Levels="\n<md-card-content>\n<h4 class =\"md-title\">Levels to include</h4>\n<md-checkbox ng-change=\"$ctrl.save()\" ng-model=\"$ctrl.options[level]\" ng-repeat=\"(level, name) in ::['Green','Yellow','Red']\"\nng-class =\"::'md-primary md-alien'+level+'-theme'\">{{::name}}</md-checkbox>\n</md-card-content>\n"},{}],3:[function(e,n,t){"use strict";var i=function(){function e(e){var n=this,t={},i=[];n.init=e.get("data/aliens.json").then(function(e){return e.data.list.forEach(function(e){t[e.name]=e,i.push(e.name)}),i.sort(),i.slice(0)}),n.get=function(e){return t[e]||{}},n.getMatchingNames=function(e,n,r,o){var a=i.filter(function(i){return e[t[i].level]&&n[t[i].game]});return r&&r.length&&(a=a.filter(function(e){return r.indexOf(e)<0})),o&&"none"!==o&&(a=a.filter(function(e){return!t[e].setup||"color"===o&&"color"!==t[e].setup})),a}}return e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},{}],4:[function(e,n,t){"use strict";function i(e){function n(n,t,i,r){e.definePalette(t,e.extendPalette(i,{500:r,contrastDefaultColor:"light"})),e.theme("alien"+n).primaryPalette(t).accentPalette("deep-purple")}n(0,"alien-green","green","189247"),n(1,"alien-yellow","deep-orange","c39c07"),n(2,"alien-red","red","c31b09")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},{}],5:[function(e,n,t){"use strict";function i(){var e={E:"Encounter",A:"Alliance",C:"Conflict",D:"Dominion",I:"Incursion",S:"Storm"};return function(n){return"Cosmic "+e[n]}}function r(){var e=["success","warning","danger"];return function(n){return e[n]}}function o(){var e=["★","★★","★★★"];return function(n){return e[n]}}function a(){var e=["Green","Yellow","Red"];return function(n){return e[n]}}t.GameInitials=["E","A","C","D","I","S"],t.groupBy=function(){function e(n,t,i){if(t.length<1)return[{value:"",items:n}];var r={},o=t[i];n.forEach(function(e){var n=e[o];r[n]=r[n]||[],r[n].push(e)});var a=Object.keys(r).sort().map(function(e){return{value:e,items:r[e]}});return t[i+1]&&(a=a.map(function(n){return{value:n.value,items:e(n.items,t,i+1)}})),a}return function(n,t){return e(n,t,0)}}(),t.InitialToGameName=i,t.LevelToClass=r,t.LevelToStars=o,t.LevelToName=a},{}],6:[function(e,n,t){"use strict";var i=e("./service"),r=function(){function e(e,n){function t(e){e&&(o.state=e.message,o.aliensToShow=e.aliens,e.limit&&(o.settings.numToChoose=e.limit),o.status=a.getStatus(),o.disabled=a.getDisabledActions(o.settings.numToChoose,o.aliensToShow.length))}function r(){var e=o.settings;t(a.reset(e.complexities,e.games,e.namesExcluded,e.setupLevel)),o.restrictNumToChoose()}this.status="0 of 0 drawn. 0 redos.",this.state="Loading aliens...",this.aliensToShow=[],this.disabled={draw:!0,hide:!0,show:!0,redo:!0,reset:!0};var o=this,a=new i.Service(n);e.$default({complexities:[!0,!0,!0],games:{E:!0},namesExcluded:[],setupLevel:"none",numToChoose:2,preventConflicts:!0}),o.settings=e,o.change=r;var l=0;o.reset=function(){confirm("Reset list of aliens?")?r():l++,l>2&&(t(a.getAllGiven()),l=0)},o.restrictNumToChoose=function(){o.settings.numToChoose=a.getChooseLimit(o.settings.numToChoose)},o.draw=function(){return t(a.draw(o.settings.numToChoose,o.settings.preventConflicts))},o.hide=function(){return t(a.hide())},o.show=function(){return t(a.show())},o.redo=function(){return t(a.redo(o.settings.numToChoose,o.settings.preventConflicts))},a.init.then(function(e){o.namesAll=e}).then(r)}return e}();t.Controller=r},{"./service":7}],7:[function(e,n,t){"use strict";var i=function(){function e(e){function n(n){return n.sort().map(e.get)}function t(n){void 0===n&&(n=!1);var t=Math.floor(Math.random()*c.length);if(c[t]){var i=c.splice(t,1)[0];a.push(i);var r=e.get(i);if(n&&r.restriction)for(var o=r.restriction.split(","),l=0;l<o.length;l++){var m=c.indexOf(o[l]);m>-1&&s.push(c.splice(m,1)[0])}return i}}function i(){l=l.concat(a,s),s=[],a=[]}function r(){c=c.concat(a,s),a=[],s=[]}var o=this;o.init=e.init;var a=[],l=[],s=[],c=[],m=0;o.reset=function(n,t,i,r){return c=e.getMatchingNames(n,t,i,r),l=[],a=[],s=[],m=0,{aliens:[],message:"List reset."}},o.getAllGiven=function(){return i(),{aliens:n(l),message:"Aliens given out so far:"}},o.getChooseLimit=function(e){var n=e,t=c.length;return t>0&&n>t&&(n=t),n<1&&(n=1),n},o.draw=function(e,l){void 0===l&&(l=!1),i();for(var s=0;s<e;s++){var c=t(l);if(!c)break}return a.length<e?(r(),{aliens:[],message:"Not enough potential aliens left."+(l?' It\'s possible that the "Prevent conflicts" option is preventing me from displaying remaining aliens.':"")}):{aliens:n(a),message:"Choices:",limit:o.getChooseLimit(e)}},o.hide=function(){return{aliens:[],message:"Choices hidden."}},o.show=function(){var e=a.map(function(e){return e[0].toLowerCase()});return e.indexOf((prompt("Enter the first initial of one of the aliens you were given, then click OK.")||"").toLowerCase())<0?{aliens:[],message:"Wrong letter."}:{aliens:n(a),message:"Choices:"}},o.redo=function(e,t){return void 0===t&&(t=!1),confirm("Redo?")?(r(),m++,o.draw(e,t)):{aliens:n(a),message:"Choices:"}},o.getDisabledActions=function(e,n){return{draw:c.length<e,hide:n<1,show:!(a.length>0&&n<1),redo:a.length<=0||n<=0,reset:a.length<=0&&l.length<=0}},o.getStatus=function(){var e=a.length+l.length+s.length;return e+" of "+(e+c.length)+" drawn. "+m+" redos so far."}}return e.prototype.getChooseLimit=function(e){return 0},e}();t.Service=i},{}],8:[function(e,n,t){"use strict";var i=function(){function e(e){this.open=function(){e("left").open()}}return e}();t.Controller=i,t.Bindings={page:"<"},t.template='\n<md-sidenav md-whiteframe="2" class ="md-sidenav-left" md-component-id="left">\n\t<md-toolbar class ="md-tall">\n\t\t<div class ="md-toolbar-tools">\n\t\t\t<h2>Cosmic Companion</h2>\n\t\t</div>\n\t</md-toolbar>\n\t<md-content>\n\t\t<md-list>\n\t\t\t<md-list-item><md-button href="index.html">Home</md-button></md-list-item>\n\t\t\t<md-subheader class ="md-no-sticky">Tools</md-subheader>\n\t\t\t<md-list-item><md-button href="generator.html" ng-disabled="$ctrl.page === \'generator\'">Alien Generator</md-button></md-list-item>\n\t\t\t<md-list-item><md-button href="reference.html" ng-disabled="$ctrl.page === \'reference\'">Alien Reference</md-button></md-list-item>\n\t\t\t<md-list-item>\n\t\t\t\t<a href="https://play.google.com/store/apps/details?id=net.fmorel.cosmicgenerator">\n\t\t\t\t\t<img src="icons/playstore_badge.png" />\n\t\t\t\t</a>\n\t\t\t</md-list-item>\n\t\t</md-list>\n\t</md-content>\n</md-sidenav>\n'},{}],9:[function(e,n,t){"use strict";t.Bindings={title:"<",drawer:"<"},t.template='\n<md-toolbar class ="md-hue-2">\n  <div class ="md-toolbar-tools">\n    <md-button class ="md-icon-button" ng-click="$ctrl.drawer.open()" aria-label="Settings">\n      <ng-md-icon icon="menu" style="fill:#fff;"></ng-md-icon>\n    </md-button>\n    <h2>{{$ctrl.title}}</h2>\n  </div>\n</md-toolbar>\n'},{}],10:[function(e,n,t){"use strict";var i=e("../filters"),r=function(){function e(e,n){var t=this;e.$default({complexities:[!0,!0,!0],games:{E:!0},orderPref:["name"],groupPref:["game","level"]}),t.complexities=e.complexities,t.games=e.games,t.orderPref=e.orderPref,t.groupPref=e.groupPref,t.alienGroups=[],t.change=function(){t.alienGroups=i.groupBy(n.getMatchingNames(t.complexities,t.games).map(n.get),t.groupPref)},n.init.then(t.change)}return e}();t.Controller=r},{"../filters":5}],11:[function(e,n,t){"use strict";function i(e){e.definePalette("cosmic-warn",e.extendPalette("red",{500:"c31b09",contrastDefaultColor:"dark"})),e.theme("default").primaryPalette("deep-purple").accentPalette("amber"),e.theme("warn").primaryPalette("cosmic-warn").accentPalette("orange")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},{}],12:[function(e,n,t){"use strict";function i(e){return["$compileProvider","$localStorageProvider",function(n,t){n.debugInfoEnabled(!1),t.setKeyPrefix(e)}]}var r=e("./theme"),o=e("./nav.drawer"),a=e("./nav.toolbar"),l=e("./filters"),s=e("./aliens/service"),c=e("./aliens/theme"),m=e("./aliens/alien.component"),u=e("./generator/controller"),d=e("./reference/aliens.controller"),f=e("./aliens/options"),g=["base","aliens","ngStorage","ngAria","ngMaterial","ngMdIcons"];angular.module("base",["ngMaterial","ngMdIcons"]).config(["$mdThemingProvider",r.default]).value("gameInitials",l.GameInitials).filter("gameName",l.InitialToGameName).component("cosmicDrawer",{template:o.template,bindings:o.Bindings}).component("cosmicToolbar",{template:a.template,bindings:a.Bindings}).controller("NavDrawer",["$mdSidenav",o.Controller]),angular.module("aliens",["ngMaterial"]).service("alienData",["$http",s.default]).config(["$mdThemingProvider",c.default]).filter("levelClass",l.LevelToClass).filter("levelStars",l.LevelToStars).filter("levelName",l.LevelToName).component("alienPanel",{bindings:m.Bindings,template:m.template,controller:["$sce",m.Controller]}).component("alienLevelOptions",{bindings:f.Bindings,template:f.Levels}).component("alienGameOptions",{bindings:f.Bindings,template:f.Games}),angular.module("aliens.generator",g).config(i("alien-gen-")).controller("AlienGenerator",["$localStorage","alienData",u.Controller]),angular.module("aliens.reference",g).config(i("alien-ref-")).controller("AlienReference",["$localStorage","alienData",d.Controller]),function(e,n,t,i,r,o,a){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,o=n.createElement(t),a=n.getElementsByTagName(t)[0],o.async=1,o.src=i,a.parentNode.insertBefore(o,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-76241009-1","auto"),ga("send","pageview")},{"./aliens/alien.component":1,"./aliens/options":2,"./aliens/service":3,"./aliens/theme":4,"./filters":5,"./generator/controller":6,"./nav.drawer":8,"./nav.toolbar":9,"./reference/aliens.controller":10,"./theme":11}]},{},[12]);