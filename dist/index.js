!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return["$compileProvider","$localStorageProvider",function(t,n){t.debugInfoEnabled(!1),n.setKeyPrefix(e)}]}n(3),n(2);var i=n(13),o=n(10),a=n(11),s=n(1),l=n(6),c=n(7),u=n(4),d=n(8),m=n(12),f=n(5),g=["base","aliens","ngStorage","ngAria","ngMaterial","ngMdIcons"];angular.module("base",["ngMaterial","ngMdIcons"]).config(["$mdThemingProvider",i.default]).value("gameInitials",s.GameInitials).filter("gameName",s.InitialToGameName).component("cosmicDrawer",{template:o.template,bindings:o.Bindings}).component("cosmicToolbar",{template:a.template,bindings:a.Bindings}).controller("NavDrawer",["$mdSidenav",o.Controller]),angular.module("aliens",["ngMaterial"]).service("alienData",["$http",l.default]).config(["$mdThemingProvider",c.default]).filter("levelClass",s.LevelToClass).filter("levelStars",s.LevelToStars).filter("levelName",s.LevelToName).component("alienPanel",{bindings:u.Bindings,template:u.template,controller:["$sce",u.Controller]}).component("alienLevelOptions",{bindings:f.Bindings,template:f.Levels}).component("alienGameOptions",{bindings:f.Bindings,template:f.Games}),angular.module("aliens.generator",g).config(r("alien-gen-")).controller("AlienGenerator",["$localStorage","alienData",d.Controller]),angular.module("aliens.reference",g).config(r("alien-ref-")).controller("AlienReference",["$localStorage","alienData",m.Controller]),function(e,t,n,r,i,o,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src=r,a.parentNode.insertBefore(o,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-76241009-1","auto"),ga("send","pageview")},function(e,t){"use strict";function n(){var e={E:"Encounter",A:"Alliance",C:"Conflict",D:"Dominion",I:"Incursion",S:"Storm"};return function(t){return"Cosmic "+e[t]}}function r(){var e=["success","warning","danger"];return function(t){return e[t]}}function i(){var e=["★","★★","★★★"];return function(t){return e[t]}}function o(){var e=["Green","Yellow","Red"];return function(t){return e[t]}}t.GameInitials=["E","A","C","D","I","S"],t.groupBy=function(){function e(t,n,r){if(n.length<1)return[{value:"",items:t}];var i={},o=n[r];t.forEach(function(e){var t=e[o];i[t]=i[t]||[],i[t].push(e)});var a=Object.keys(i).sort().map(function(e){return{value:e,items:i[e]}});return n[r+1]&&(a=a.map(function(t){return{value:t.value,items:e(t.items,n,r+1)}})),a}return function(t,n){return e(t,n,0)}}(),t.InitialToGameName=n,t.LevelToClass=r,t.LevelToStars=i,t.LevelToName=o},function(e,t){},function(e,t,n){var r,i,o;/*! ngstorage 0.3.10 | Copyright (c) 2016 Gias Kay Lee | MIT License */!function(a,s){"use strict";i=[n(14)],r=s,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t){var n;try{n=e[t]}catch(e){n=!1}if(n){var r="__"+Math.round(1e7*Math.random());try{e[t].setItem(r,r),e[t].removeItem(r,r)}catch(e){n=!1}}return n}function n(n){var r=t(window,n);return function(){var i="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setKeyPrefix() expects a String.");i=e};var o=e.toJson,a=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setSerializer expects a function.");o=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setDeserializer expects a function.");a=e},this.supported=function(){return!!r},this.get=function(e){return r&&a(r.getItem(i+e))},this.set=function(e,t){return r&&r.setItem(i+e,o(t))},this.remove=function(e){r&&r.removeItem(i+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(r,s,l,c,u){var d,m,f=i.length,g=t(s,n),p=g||(l.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),h={$default:function(t){for(var n in t)e.isDefined(h[n])||(h[n]=e.copy(t[n]));return h.$sync(),h},$reset:function(e){for(var t in h)"$"===t[0]||delete h[t]&&p.removeItem(i+t);return h.$default(e)},$sync:function(){for(var e,t=0,n=p.length;n>t;t++)(e=p.key(t))&&i===e.slice(0,f)&&(h[e.slice(f)]=a(p.getItem(e)))},$apply:function(){var t;if(m=null,!e.equals(h,d)){t=e.copy(d),e.forEach(h,function(n,r){e.isDefined(n)&&"$"!==r[0]&&(p.setItem(i+r,o(n)),delete t[r])});for(var n in t)p.removeItem(i+n);d=e.copy(h)}},$supported:function(){return!!g}};return h.$sync(),d=e.copy(h),r.$watch(function(){m||(m=c(h.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(t){if(t.key){var n=u[0];n.hasFocus&&n.hasFocus()||i!==t.key.slice(0,f)||(t.newValue?h[t.key.slice(f)]=a(t.newValue):delete h[t.key.slice(f)],d=e.copy(h),r.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){h.$apply()}),h}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",n("localStorage")).provider("$sessionStorage",n("sessionStorage"))})},function(e,t){"use strict";var n=function(){function e(e){var t=this;this.$onInit=function(){var n=t.alien;n&&"string"==typeof n.description&&(n.description=e.trustAsHtml(n.description))}}return e}();t.Controller=n,t.Bindings={alien:"<item"},t.template='\n<md-card>\n<md-card-content class ="alien-head">\n\t<md-button class ="md-alien{{::$ctrl.alien.level}}-theme md-raised md-primary" ng-click="$ctrl.opened = !$ctrl.opened">{{$ctrl.opened ? \'-\': \'+\'}}</md-button>\n\t<h2 class ="md-alien{{::$ctrl.alien.level}}-theme md-title alien-fg-{{::$ctrl.alien.level}}">{{::$ctrl.alien.name}}</h2>\n\t<p class ="md-subhead clear">{{::$ctrl.alien.power}}</p>\n</md-card-content>\n<md-card-footer class ="alien-bar alien-bg-{{::$ctrl.alien.level}}">\n\t<span class ="alien-panel-game">C{{::$ctrl.alien.game}}</span>\n\t<span class ="alien-panel-level">{{::$ctrl.alien.level | levelStars}}</span>\n\t<span ng-if="::($ctrl.alien.setup || $ctrl.alien.restriction)">⚠</span>\n\t<span class ="clear"></span>\n</md-card-footer>\n<md-card-footer ng-if="$ctrl.opened" class ="alien-desc md-body-1" ng-bind-html="::$ctrl.alien.description">\n</md-card-footer>\n</md-card>\n'},function(e,t){"use strict";t.Bindings={options:"=",save:"="},t.Games="\n<md-card-content>\n<h4 class =\"md-title\">Games to include</h4>\n<md-checkbox ng-change=\"$ctrl.save()\" ng-model=\"$ctrl.options[game]\" ng-repeat=\"game in ::['E', 'A', 'C', 'D', 'I', 'S']\"\nclass =\"md-primary\">{{::game | gameName}}</md-checkbox>\n</md-card-content>\n",t.Levels="\n<md-card-content>\n<h4 class =\"md-title\">Levels to include</h4>\n<md-checkbox ng-change=\"$ctrl.save()\" ng-model=\"$ctrl.options[level]\" ng-repeat=\"(level, name) in ::['Green','Yellow','Red']\"\nng-class =\"::'md-primary md-alien'+level+'-theme'\">{{::name}}</md-checkbox>\n</md-card-content>\n"},function(e,t){"use strict";var n=function(){function e(e){var t=this,n={},r=[];t.init=e.get("data/aliens.json").then(function(e){return e.data.list.forEach(function(e){n[e.name]=e,r.push(e.name)}),r.sort(),r.slice(0)}),t.get=function(e){return n[e]||{}},t.getMatchingNames=function(e,t,i,o){var a=r.filter(function(r){return e[n[r].level]&&t[n[r].game]});return i&&i.length&&(a=a.filter(function(e){return i.indexOf(e)<0})),o&&"none"!==o&&(a=a.filter(function(e){return!n[e].setup||"color"===o&&"color"!==n[e].setup})),a}}return e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){function t(t,n,r,i){e.definePalette(n,e.extendPalette(r,{500:i,contrastDefaultColor:"light"})),e.theme("alien"+t).primaryPalette(n).accentPalette("deep-purple")}t(0,"alien-green","green","189247"),t(1,"alien-yellow","deep-orange","c39c07"),t(2,"alien-red","red","c31b09")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";var r=n(9),i=function(){function e(e,t){function n(e){e&&(o.state=e.message,o.aliensToShow=e.aliens,e.limit&&(o.settings.numToChoose=e.limit),o.status=a.getStatus(),o.disabled=a.getDisabledActions(o.settings.numToChoose,o.aliensToShow.length))}function i(){var e=o.settings;n(a.reset(e.complexities,e.games,e.namesExcluded,e.setupLevel)),o.restrictNumToChoose()}this.status="0 of 0 drawn. 0 redos.",this.state="Loading aliens...",this.aliensToShow=[],this.disabled={draw:!0,hide:!0,show:!0,redo:!0,reset:!0};var o=this,a=new r.Service(t);e.$default({complexities:[!0,!0,!0],games:{E:!0},namesExcluded:[],setupLevel:"none",numToChoose:2,preventConflicts:!0}),o.settings=e,o.change=i;var s=0;o.reset=function(){confirm("Reset list of aliens?")?i():s++,s>2&&(n(a.getAllGiven()),s=0)},o.restrictNumToChoose=function(){o.settings.numToChoose=a.getChooseLimit(o.settings.numToChoose)},o.draw=function(){return n(a.draw(o.settings.numToChoose,o.settings.preventConflicts))},o.hide=function(){return n(a.hide())},o.show=function(){return n(a.show())},o.redo=function(){return n(a.redo(o.settings.numToChoose,o.settings.preventConflicts))},a.init.then(function(e){o.namesAll=e}).then(i)}return e}();t.Controller=i},function(e,t){"use strict";var n=function(){function e(e){function t(t){return t.sort().map(e.get)}function n(t){void 0===t&&(t=!1);var n=Math.floor(Math.random()*c.length);if(c[n]){var r=c.splice(n,1)[0];a.push(r);var i=e.get(r);if(t&&i.restriction)for(var o=i.restriction.split(","),s=0;s<o.length;s++){var u=c.indexOf(o[s]);u>-1&&l.push(c.splice(u,1)[0])}return r}}function r(){s=s.concat(a,l),l=[],a=[]}function i(){c=c.concat(a,l),a=[],l=[]}var o=this;o.init=e.init;var a=[],s=[],l=[],c=[],u=0;o.reset=function(t,n,r,i){return c=e.getMatchingNames(t,n,r,i),s=[],a=[],l=[],u=0,{aliens:[],message:"List reset."}},o.getAllGiven=function(){return r(),{aliens:t(s),message:"Aliens given out so far:"}},o.getChooseLimit=function(e){var t=e,n=c.length;return n>0&&t>n&&(t=n),t<1&&(t=1),t},o.draw=function(e,s){void 0===s&&(s=!1),r();for(var l=0;l<e;l++){var c=n(s);if(!c)break}return a.length<e?(i(),{aliens:[],message:"Not enough potential aliens left."+(s?' It\'s possible that the "Prevent conflicts" option is preventing me from displaying remaining aliens.':"")}):{aliens:t(a),message:"Choices:",limit:o.getChooseLimit(e)}},o.hide=function(){return{aliens:[],message:"Choices hidden."}},o.show=function(){var e=a.map(function(e){return e[0].toLowerCase()});return e.indexOf((prompt("Enter the first initial of one of the aliens you were given, then click OK.")||"").toLowerCase())<0?{aliens:[],message:"Wrong letter."}:{aliens:t(a),message:"Choices:"}},o.redo=function(e,n){return void 0===n&&(n=!1),confirm("Redo?")?(i(),u++,o.draw(e,n)):{aliens:t(a),message:"Choices:"}},o.getDisabledActions=function(e,t){return{draw:c.length<e,hide:t<1,show:!(a.length>0&&t<1),redo:a.length<=0||t<=0,reset:a.length<=0&&s.length<=0}},o.getStatus=function(){var e=a.length+s.length+l.length;return e+" of "+(e+c.length)+" drawn. "+u+" redos so far."}}return e.prototype.getChooseLimit=function(e){return 0},e}();t.Service=n},function(e,t){"use strict";var n=function(){function e(e){this.open=function(){e("left").open()}}return e}();t.Controller=n,t.Bindings={page:"<"},t.template='\n<md-sidenav md-whiteframe="2" class ="md-sidenav-left" md-component-id="left">\n\t<md-toolbar class ="md-tall">\n\t\t<div class ="md-toolbar-tools">\n\t\t\t<h2>Cosmic Companion</h2>\n\t\t</div>\n\t</md-toolbar>\n\t<md-content>\n\t\t<md-list>\n\t\t\t<md-list-item><md-button href="index.html">Home</md-button></md-list-item>\n\t\t\t<md-subheader class ="md-no-sticky">Tools</md-subheader>\n\t\t\t<md-list-item><md-button href="generator.html" ng-disabled="$ctrl.page === \'generator\'">Alien Generator</md-button></md-list-item>\n\t\t\t<md-list-item><md-button href="reference.html" ng-disabled="$ctrl.page === \'reference\'">Alien Reference</md-button></md-list-item>\n\t\t\t<md-list-item>\n\t\t\t\t<a href="https://play.google.com/store/apps/details?id=net.fmorel.cosmicgenerator">\n\t\t\t\t\t<img src="icons/playstore_badge.png" />\n\t\t\t\t</a>\n\t\t\t</md-list-item>\n\t\t</md-list>\n\t</md-content>\n</md-sidenav>\n'},function(e,t){"use strict";t.Bindings={title:"<",drawer:"<"},t.template='\n<md-toolbar class ="md-hue-2">\n  <div class ="md-toolbar-tools">\n    <md-button class ="md-icon-button" ng-click="$ctrl.drawer.open()" aria-label="Settings">\n      <ng-md-icon icon="menu" style="fill:#fff;"></ng-md-icon>\n    </md-button>\n    <h2>{{$ctrl.title}}</h2>\n  </div>\n</md-toolbar>\n'},function(e,t,n){"use strict";var r=n(1),i=function(){function e(e,t){var n=this;e.$default({complexities:[!0,!0,!0],games:{E:!0},orderPref:["name"],groupPref:["game","level"]}),n.complexities=e.complexities,n.games=e.games,n.orderPref=e.orderPref,n.groupPref=e.groupPref,n.alienGroups=[],n.change=function(){n.alienGroups=r.groupBy(t.getMatchingNames(n.complexities,n.games).map(t.get),n.groupPref)},t.init.then(n.change)}return e}();t.Controller=i},function(e,t){"use strict";function n(e){e.definePalette("cosmic-warn",e.extendPalette("red",{500:"c31b09",contrastDefaultColor:"dark"})),e.theme("default").primaryPalette("deep-purple").accentPalette("amber"),e.theme("warn").primaryPalette("cosmic-warn").accentPalette("orange")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){e.exports=angular}]);