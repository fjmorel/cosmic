webpackJsonp([1],{148:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(52),r=function(){function e(e){function t(t){void 0===t&&(t=!1);var n=Math.floor(Math.random()*l.length);if(l[n]){var i=l.splice(n,1)[0];if(o.push(i),t){var s=e.get(i);if(s.restriction)for(var a=s.restriction.split(","),c=0;c<a.length;c++){var d=l.indexOf(a[c]);d>-1&&r.push(l.splice(d,1)[0])}}return i}}function n(){a=a.concat(o,r),r=[],o=[]}function i(){l=l.concat(o,r),o=[],r=[]}var s=this,o=[],a=[],r=[],l=[],c=0;s.reset=function(e){return l=e,a=[],o=[],r=[],c=0,{aliens:[],message:"List reset."}},s.getAllGiven=function(){return n(),{aliens:a,message:"Aliens given out so far:"}},s.getChooseLimit=function(e){var t=e,n=l.length;return n>0&&t>n&&(t=n),t<1&&(t=1),t},s.draw=function(e,a){void 0===a&&(a=!1),n();for(var r=0;r<e;r++){if(!t(a))break}return o.length<e?(i(),{aliens:[],message:"Not enough potential aliens left."+(a?' It\'s possible that the "Prevent conflicts" option is preventing me from displaying remaining aliens.':"")}):{aliens:o,message:"Choices:",limit:s.getChooseLimit(e)}},s.hide=function(){return{aliens:[],message:"Choices hidden."}},s.show=function(){return o.map(function(e){return e[0].toLowerCase()}).indexOf((prompt("Enter the first initial of one of the aliens you were given, then click OK.")||"").toLowerCase())<0?{aliens:[],message:"Wrong letter."}:{aliens:o,message:"Choices:"}},s.redo=function(e,t){return void 0===t&&(t=!1),confirm("Redo?")?(i(),c++,s.draw(e,t)):{aliens:o,message:"Choices:"}},s.getDisabledActions=function(e,t){return{draw:l.length<e,hide:t<1,show:!(o.length>0&&t<1),redo:o.length<=0||t<=0,reset:o.length<=0&&a.length<=0}},s.getStatus=function(){var e=o.length+a.length+r.length;return e+" of "+(e+l.length)+" drawn. "+c+" redos so far."}}return e=i([o.Injectable(),s("design:paramtypes",[a.AlienService])],e)}();t.AlienGeneratorService=r},366:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(69),o=n(2),a=n(2),r=n(23),l=n(103),c=n(71),d=n(70),m=n(57),u=n(367),g=n(148),h=n(52),p=function(){function e(){}return e=i([a.NgModule({imports:[r.BrowserModule,d.NoopAnimationsModule,l.FormsModule,c.HttpClientModule,m.LocalStorageModule.withConfig({prefix:"alien-gen",storageType:"localStorage"}),h.ThemingModule],declarations:[u.AlienGeneratorPage,h.CosmicDrawerComponent,h.GameOptionsComponent,h.LevelOptionsComponent,h.AlienCardComponent,h.AlienGridComponent,h.LevelNamePipe,h.LevelStarsPipe],bootstrap:[u.AlienGeneratorPage],providers:[h.AlienService,g.AlienGeneratorService]})],e)}();o.enableProdMode(),s.platformBrowserDynamic().bootstrapModule(p)},367:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(52),r=n(148),l=n(57),c=function(){function e(e,t,n){var i=this;this.Aliens=e,this.Generator=t,this.Storage=n,this.settings={},this.disabled={draw:!0,hide:!0,show:!0,redo:!0,reset:!0},this.aliensToShow=[],this.NOT_RESET=0,this.draw=function(){return i.setState(i.Generator.draw(i.settings.numToChoose,i.settings.preventConflicts))},this.hide=function(){return i.setState(i.Generator.hide())},this.show=function(){return i.setState(i.Generator.show())},this.redo=function(){return i.setState(i.Generator.redo(i.settings.numToChoose,i.settings.preventConflicts))},this.reset=function(){confirm("Reset list of aliens?")?i.change():i.NOT_RESET++,i.NOT_RESET>2&&(i.setState(i.Generator.getAllGiven()),i.NOT_RESET=0)},this.restrictNumToChoose=function(){i.settings.numToChoose=i.Generator.getChooseLimit(i.settings.numToChoose),i.saveSettings()}}return e.prototype.ngOnInit=function(){var e=this;this.Aliens.init.subscribe(function(t){e.namesAll=t,e.settings=e.Storage.get("settings"),e.settings||(e.settings={}),e.settings.levels||(e.settings.levels=[!0,!0,!0]),e.settings.games||(e.settings.games={Encounter:!0}),e.settings.namesExcluded||(e.settings.namesExcluded=[]),e.settings.setupLevel||(e.settings.setupLevel=""),e.settings.numToChoose||(e.settings.numToChoose=2),void 0===e.settings.preventConflicts&&(e.settings.preventConflicts=!0),e.change()})},e.prototype.change=function(){if(this.settings){var e=this.Aliens.getMatchingNames(this.settings.levels,this.settings.games,this.settings.namesExcluded,this.settings.setupLevel);this.setState(this.Generator.reset(e)),this.restrictNumToChoose()}},e.prototype.onSelectGame=function(e){this.settings.games=e,this.change()},e.prototype.onSelectLevel=function(e){this.settings.levels=e,this.change()},e.prototype.saveSettings=function(){this.Storage.set("settings",this.settings)},e.prototype.setState=function(e){var t=this;e&&(this.state=e.message,this.aliensToShow=e.aliens.map(function(e){return t.Aliens.get(e)}),e.limit&&(this.settings.numToChoose=e.limit),this.status=this.Generator.getStatus(),this.disabled=this.Generator.getDisabledActions(this.settings.numToChoose,this.aliensToShow.length))},e=i([o.Component({selector:"aliens-generator-app",styles:["\n\t\t#container { display: flex; flex: auto; flex-wrap: wrap; align-content: stretch; padding:8px }\n\t\tmd-radio-button { display: block; margin: 16px 0; }\n\t\t#gen-status { margin: 16px; }\n\t\t.space-right { margin-right: 16px; }\n\t"],template:n(368)}),s("design:paramtypes",[a.AlienService,r.AlienGeneratorService,l.LocalStorageService])],e)}();t.AlienGeneratorPage=c},368:function(e,t){e.exports='<md-sidenav-container><md-sidenav #leftnav><cosmic-drawer [page]="\'generator\'"></cosmic-drawer></md-sidenav><div id="content"><md-toolbar class="mat-primary"><button md-button (click)="leftnav.toggle()"><md-icon>menu</md-icon></button><h1>Game Generator</h1></md-toolbar><div id="container"><game-options [games]="settings.games" (onSelected)="onSelectGame($event)"></game-options><level-options [levels]="settings.levels" (onSelected)="onSelectLevel($event)"></level-options><md-card><md-card-title>Game Setup</md-card-title><md-radio-group [(ngModel)]="settings.setupLevel" (change)="change()"><md-radio-button value class="mat-primary">Remove none</md-radio-button><md-radio-button value="color" class="mat-primary">Remove those requiring extra color</md-radio-button><md-radio-button value="all" class="mat-primary">Remove all</md-radio-button></md-radio-group></md-card><md-card><md-card-title>Exclude by name</md-card-title><md-select multiple [(ngModel)]="settings.namesExcluded" (change)="change()" placeholder="Select names"><md-option *ngFor="let name of namesAll" [value]="name">{{name}}</md-option></md-select></md-card><md-card><md-card-title>How to choose</md-card-title><md-input-container><input mdInput type="number" [(ngModel)]="settings.numToChoose" placeholder="Choices per player" step="1" min="1" (change)="restrictNumToChoose()"></md-input-container><div><md-checkbox class="md-primary" (change)="saveSettings()" [(ngModel)]="settings.preventConflicts">Prevent conflicts (like Oracle vs. Magician)</md-checkbox></div></md-card></div><md-toolbar id="gen-actions"><span class="space-right alien-0-theme"><button md-raised-button class="mat-accent" (click)="draw()" [disabled]="disabled.draw">Draw</button></span> <span class><button md-raised-button class="mat-primary" (click)="hide()" [disabled]="disabled.hide"><md-icon>visibility_off</md-icon>Hide</button></span> <span class="space-right"><button md-raised-button class="mat-primary" (click)="show()" [disabled]="disabled.show"><md-icon>visibility</md-icon>Show</button></span> <span class="space-right alien-1-theme"><button md-raised-button class="mat-accent" (click)="redo();" [disabled]="disabled.redo"><md-icon>history</md-icon>Redo</button></span> <span class="space-right alien-2-theme"><button md-raised-button class="mat-accent" (click)="reset()" [disabled]="disabled.reset"><md-icon>replay</md-icon>Reset</button></span></md-toolbar><p class="mat-body-1" id="gen-status">{{status}} {{state}}</p><alien-grid [aliens]="aliensToShow"></alien-grid></div></md-sidenav-container>'}},[366]);