webpackJsonp([1],{188:function(e,t,n){"use strict";var s=this&&this.__decorate||function(e,t,n,s){var i,a=arguments.length,o=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(74),r=function(){function e(e){function t(t){void 0===t&&(t=!1);var n=Math.floor(Math.random()*l.length);if(l[n]){var s=l.splice(n,1)[0];if(a.push(s),t){var i=e.get(s);if(i.restriction)for(var o=i.restriction.split(","),c=0;c<o.length;c++){var m=l.indexOf(o[c]);m>-1&&r.push(l.splice(m,1)[0])}}return s}}function n(){o=o.concat(a,r),r=[],a=[]}function s(){l=l.concat(a,r),a=[],r=[]}var i=this,a=[],o=[],r=[],l=[],c=0;i.reset=function(e){return l=e,o=[],a=[],r=[],c=0,{aliens:[],message:"List reset."}},i.getAllGiven=function(){return n(),{aliens:o,message:"Aliens given out so far:"}},i.getChooseLimit=function(e){var t=e,n=l.length;return n>0&&t>n&&(t=n),t<1&&(t=1),t},i.draw=function(e,o){void 0===o&&(o=!1),n();for(var r=0;r<e;r++){if(!t(o))break}return a.length<e?(s(),{aliens:[],message:"Not enough potential aliens left."+(o?' It\'s possible that the "Prevent conflicts" option is preventing me from displaying remaining aliens.':"")}):{aliens:a,message:"Choices:",limit:i.getChooseLimit(e)}},i.hide=function(){return{aliens:[],message:"Choices hidden."}},i.show=function(){return a.map(function(e){return e[0].toLowerCase()}).indexOf((prompt("Enter the first initial of one of the aliens you were given, then click OK.")||"").toLowerCase())<0?{aliens:[],message:"Wrong letter."}:{aliens:a,message:"Choices:"}},i.redo=function(e,t){return void 0===t&&(t=!1),confirm("Redo?")?(s(),c++,i.draw(e,t)):{aliens:a,message:"Choices:"}},i.getDisabledActions=function(e,t){return{draw:l.length<e,hide:t<1,show:!(a.length>0&&t<1),redo:a.length<=0||t<=0,reset:a.length<=0&&o.length<=0}},i.getStatus=function(){var e=a.length+o.length+r.length;return e+" of "+(e+l.length)+" drawn. "+c+" redos so far."}}return e=s([a.Injectable(),i("design:paramtypes",[o.AlienService])],e)}();t.AlienGeneratorService=r},442:function(e,t,n){"use strict";var s=this&&this.__decorate||function(e,t,n,s){var i,a=arguments.length,o=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var i=n(94),a=n(1),o=n(32),r=n(23),l=n(81),c=n(131),m=n(82),d=n(443),u=n(188),g=n(74),h=function(){function e(){}return e=s([a.NgModule({imports:[o.BrowserModule,c.NoopAnimationsModule,r.FormsModule,l.HttpClientModule,m.LocalStorageModule.withConfig({prefix:"alien-gen",storageType:"localStorage"}),g.ThemingModule],declarations:[d.AlienGeneratorPage,g.CosmicDrawerComponent,g.GameOptionsComponent,g.LevelOptionsComponent,g.AlienCardComponent,g.AlienGridComponent,g.LevelNamePipe,g.LevelStarsPipe],bootstrap:[d.AlienGeneratorPage],providers:[g.AlienService,u.AlienGeneratorService]})],e)}();a.enableProdMode(),i.platformBrowserDynamic().bootstrapModule(h)},443:function(e,t,n){"use strict";var s=this&&this.__decorate||function(e,t,n,s){var i,a=arguments.length,o=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(74),r=n(188),l=n(82),c=function(){function e(e,t,n){var s=this;this.Aliens=e,this.Generator=t,this.Storage=n,this.settings={levels:[],games:{},namesExcluded:[],setupLevel:"",numToChoose:2,preventConflicts:!0},this.disabled={draw:!0,hide:!0,show:!0,redo:!0,reset:!0},this.aliensToShow=[],this.NOT_RESET=0,this.draw=function(){return s.setState(s.Generator.draw(s.settings.numToChoose,s.settings.preventConflicts))},this.hide=function(){return s.setState(s.Generator.hide())},this.show=function(){return s.setState(s.Generator.show())},this.redo=function(){return s.setState(s.Generator.redo(s.settings.numToChoose,s.settings.preventConflicts))},this.reset=function(){confirm("Reset list of aliens?")?s.change():s.NOT_RESET++,s.NOT_RESET>2&&(s.setState(s.Generator.getAllGiven()),s.NOT_RESET=0)},this.restrictNumToChoose=function(){s.settings.numToChoose=s.Generator.getChooseLimit(s.settings.numToChoose),s.saveSettings()}}return e.prototype.ngOnInit=function(){var e=this;this.Aliens.init.subscribe(function(t){e.namesAll=t,e.settings=e.Storage.get("settings"),e.settings||(e.settings={}),e.settings.levels||(e.settings.levels=[!0,!0,!0]),e.settings.games||(e.settings.games={Encounter:!0}),e.settings.namesExcluded||(e.settings.namesExcluded=[]),e.settings.setupLevel||(e.settings.setupLevel=""),e.settings.numToChoose||(e.settings.numToChoose=2),void 0===e.settings.preventConflicts&&(e.settings.preventConflicts=!0),e.change()})},e.prototype.change=function(){if(this.settings){var e=this.Aliens.getMatchingNames(this.settings.levels,this.settings.games,this.settings.namesExcluded,this.settings.setupLevel);this.setState(this.Generator.reset(e)),this.restrictNumToChoose()}},e.prototype.onSelectGame=function(e){this.settings.games=e,this.change()},e.prototype.onSelectLevel=function(e){this.settings.levels=e,this.change()},e.prototype.saveSettings=function(){this.Storage.set("settings",this.settings)},e.prototype.setState=function(e){var t=this;e&&(this.state=e.message,this.aliensToShow=e.aliens.map(function(e){return t.Aliens.get(e)}),e.limit&&(this.settings.numToChoose=e.limit),this.status=this.Generator.getStatus(),this.disabled=this.Generator.getDisabledActions(this.settings.numToChoose,this.aliensToShow.length))},e=s([a.Component({selector:"aliens-generator-app",styles:["\n\t\t#container { display: flex; flex: auto; flex-wrap: wrap; align-content: stretch; padding:8px }\n\t\tmat-radio-button { display: block; margin: 16px 0; }\n\t\t#gen-status { margin: 16px; }\n\t\t.space-right { margin-right: 16px; }\n\t"],template:n(444)}),i("design:paramtypes",[o.AlienService,r.AlienGeneratorService,l.LocalStorageService])],e)}();t.AlienGeneratorPage=c},444:function(e,t){e.exports='<mat-sidenav-container><mat-sidenav #leftnav><cosmic-drawer [page]="\'generator\'"></cosmic-drawer></mat-sidenav><div id="content"><mat-toolbar class="mat-primary"><button mat-button (click)="leftnav.toggle()"><mat-icon>menu</mat-icon></button>&nbsp;<h1>Game Generator</h1></mat-toolbar><div id="container"><game-options [games]="settings.games" (onSelected)="onSelectGame($event)"></game-options><level-options [levels]="settings.levels" (onSelected)="onSelectLevel($event)"></level-options><mat-card><mat-card-title>Game Setup</mat-card-title><mat-radio-group [(ngModel)]="settings.setupLevel" (change)="change()"><mat-radio-button value class="mat-primary">Remove none</mat-radio-button><mat-radio-button value="color" class="mat-primary">Remove those requiring extra color</mat-radio-button><mat-radio-button value="all" class="mat-primary">Remove all</mat-radio-button></mat-radio-group></mat-card><mat-card><mat-card-title>Exclude by name</mat-card-title><mat-select multiple [(ngModel)]="settings.namesExcluded" (change)="change()" placeholder="Select names"><mat-option *ngFor="let name of namesAll" [value]="name">{{name}}</mat-option></mat-select></mat-card><mat-card><mat-card-title>How to choose</mat-card-title><mat-input-container><input matInput type="number" [(ngModel)]="settings.numToChoose" placeholder="Choices per player" step="1" min="1" (change)="restrictNumToChoose()"></mat-input-container><div><mat-checkbox class="mat-primary" (change)="saveSettings()" [(ngModel)]="settings.preventConflicts">Prevent conflicts (like Oracle vs. Magician)</mat-checkbox></div></mat-card></div><mat-toolbar id="gen-actions"><span class="space-right alien-0-theme"><button mat-raised-button class="mat-accent" (click)="draw()" [disabled]="disabled.draw">Draw</button></span> <span class><button mat-raised-button class="mat-primary" (click)="hide()" [disabled]="disabled.hide"><mat-icon>visibility_off</mat-icon>&nbsp;Hide</button></span> <span class="space-right"><button mat-raised-button class="mat-primary" (click)="show()" [disabled]="disabled.show"><mat-icon>visibility</mat-icon>&nbsp;Show</button></span> <span class="space-right alien-1-theme"><button mat-raised-button class="mat-accent" (click)="redo();" [disabled]="disabled.redo"><mat-icon>history</mat-icon>&nbsp;Redo</button></span> <span class="space-right alien-2-theme"><button mat-raised-button class="mat-accent" (click)="reset()" [disabled]="disabled.reset"><mat-icon>replay</mat-icon>&nbsp;Reset</button></span></mat-toolbar><p class="mat-body-1" id="gen-status">{{status}} {{state}}</p><alien-grid [aliens]="aliensToShow"></alien-grid></div></mat-sidenav-container>'}},[442]);