!function(t){function e(e){for(var s,a,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)a=r[d],i[a]&&m.push(i[a][0]),i[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(h&&h(e);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},i={1:0},o=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var h=l;o.push([215,0]),n()}({153:function(t,e,n){"use strict";var s=this&&this.__decorate||function(t,e,n,s){var i,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});const o=n(0),a=n(76);let r=class{constructor(t){const e=this;let n=[],s=[],i=[],o=[],a=0;function r(e=!1){const s=Math.floor(Math.random()*o.length);if(!o[s])return;const a=o.splice(s,1)[0];if(n.push(a),e){const e=t.get(a);if(e.restriction){const t=e.restriction.split(",");for(let e=0;e<t.length;e++){const n=o.indexOf(t[e]);n>-1&&i.push(o.splice(n,1)[0])}}}return a}function l(){s=s.concat(n,i),i=[],n=[]}function c(){o=o.concat(n,i),n=[],i=[]}e.reset=function(t){return o=t,s=[],n=[],i=[],a=0,{aliens:[],message:"List reset."}},e.getAllGiven=function(){return l(),{aliens:s,message:"Aliens given out so far:"}},e.getChooseLimit=function(t){let e=t;const n=o.length;return n>0&&e>n&&(e=n),e<1&&(e=1),e},e.draw=function(t,s=!1){l();for(let e=0;e<t;e++){if(!r(s))break}return n.length<t?(c(),{aliens:[],message:"Not enough potential aliens left."+(s?' It\'s possible that the "Prevent conflicts" option is preventing me from displaying remaining aliens.':"")}):{aliens:n,message:"Choices:",limit:e.getChooseLimit(t)}},e.hide=(()=>({aliens:[],message:"Choices hidden."})),e.show=function(){return n.map(function(t){return t[0].toLowerCase()}).indexOf((prompt("Enter the first initial of one of the aliens you were given, then click OK.")||"").toLowerCase())<0?{aliens:[],message:"Wrong letter."}:{aliens:n,message:"Choices:"}},e.redo=function(t,s=!1){return confirm("Redo?")?(c(),a++,e.draw(t,s)):{aliens:n,message:"Choices:"}},e.getDisabledActions=function(t,e){return{draw:o.length<t,hide:e<1,show:!(n.length>0&&e<1),redo:n.length<=0||e<=0,reset:n.length<=0&&s.length<=0}},e.getStatus=function(){const t=n.length+s.length+i.length;return t+" of "+(t+o.length)+" drawn. "+a+" redos so far."}}};r=s([o.Injectable({providedIn:"root"}),i("design:paramtypes",[a.AlienService])],r),e.AlienGeneratorService=r},213:function(t,e){t.exports='<mat-sidenav-container>\r\n\t<mat-sidenav #leftnav>\r\n\t\t<cosmic-drawer [page]="\'generator\'"></cosmic-drawer>\r\n\t</mat-sidenav>\r\n\t<div id="content">\r\n\t\t<mat-toolbar class="mat-primary">\r\n\t\t\t<button mat-button (click)="leftnav.toggle()">\r\n\t\t\t\t<mat-icon>menu</mat-icon>\r\n\t\t\t</button>&nbsp;\r\n\t\t\t<h1>Game Generator</h1>\r\n\t\t</mat-toolbar>\r\n\t\t<div id="container">\r\n\t\t\t<game-options [games]="settings.games" (onSelected)="onSelectGame($event)"></game-options>\r\n\t\t\t<level-options [levels]="settings.levels" (onSelected)="onSelectLevel($event)"></level-options>\r\n\t\t\t<mat-card>\r\n\t\t\t\t<mat-card-title>Game Setup</mat-card-title>\r\n\t\t\t\t<mat-radio-group [(ngModel)]="settings.setupLevel" (change)="change()">\r\n\t\t\t\t\t<mat-radio-button value="" class="mat-primary">Remove none</mat-radio-button>\r\n\t\t\t\t\t<mat-radio-button value="color" class="mat-primary">Remove those requiring extra color</mat-radio-button>\r\n\t\t\t\t\t<mat-radio-button value="all" class="mat-primary">Remove all</mat-radio-button>\r\n\t\t\t\t</mat-radio-group>\r\n\t\t\t</mat-card>\r\n\t\t\t<mat-card>\r\n\t\t\t\t<mat-card-title>Exclude by name</mat-card-title>\r\n\t\t\t\t<mat-select multiple [(ngModel)]="settings.namesExcluded" (change)="change()" placeholder="Select names">\r\n\t\t\t\t\t<mat-option *ngFor="let name of namesAll" [value]="name">{{name}}</mat-option>\r\n\t\t\t\t</mat-select>\r\n\t\t\t</mat-card>\r\n\t\t\t<mat-card>\r\n\t\t\t\t<mat-card-title>How to choose</mat-card-title>\r\n\t\t\t\t<mat-form-field>\r\n\t\t\t\t\t<input matInput type="number" [(ngModel)]="settings.numToChoose" placeholder="Choices per player" step="1" min="1" (change)="restrictNumToChoose()">\r\n\t\t\t\t</mat-form-field>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<mat-checkbox class="mat-primary" (change)="saveSettings()" [(ngModel)]="settings.preventConflicts">Prevent conflicts (like Oracle vs. Magician)</mat-checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t</mat-card>\r\n\t\t</div>\r\n\t\t<mat-toolbar id="gen-actions">\r\n\t\t\t<span class="space-right alien-0-theme">\r\n\t\t\t\t<button mat-raised-button class="mat-accent" (click)="draw()" [disabled]="disabled.draw">Draw</button>\r\n\t\t\t</span>\r\n\t\t\t<span class="">\r\n\t\t\t\t<button mat-raised-button class="mat-primary" (click)="hide()" [disabled]="disabled.hide">\r\n\t\t\t\t\t<mat-icon>visibility_off</mat-icon>&nbsp;Hide</button>\r\n\t\t\t</span>\r\n\t\t\t<span class="space-right">\r\n\t\t\t\t<button mat-raised-button class="mat-primary" (click)="show()" [disabled]="disabled.show">\r\n\t\t\t\t\t<mat-icon>visibility</mat-icon>&nbsp;Show</button>\r\n\t\t\t</span>\r\n\t\t\t<span class="space-right alien-1-theme">\r\n\t\t\t\t<button mat-raised-button class="mat-accent" (click)="redo();" [disabled]="disabled.redo">\r\n\t\t\t\t\t<mat-icon>history</mat-icon>&nbsp;Redo</button>\r\n\t\t\t</span>\r\n\t\t\t<span class="space-right alien-2-theme">\r\n\t\t\t\t<button mat-raised-button class="mat-accent" (click)="reset()" [disabled]="disabled.reset">\r\n\t\t\t\t\t<mat-icon>replay</mat-icon>&nbsp;Reset</button>\r\n\t\t\t</span>\r\n\t\t</mat-toolbar>\r\n\t\t<p class="mat-body-1" id="gen-status">{{status}} {{state}}</p>\r\n\t\t<alien-grid [aliens]="aliensToShow"></alien-grid>\r\n\t</div>\r\n</mat-sidenav-container>'},214:function(t,e,n){"use strict";var s=this&&this.__decorate||function(t,e,n,s){var i,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});const o=n(0),a=n(105),r=n(76),l=n(153);let c=class{constructor(t,e,n){this.Aliens=t,this.Generator=e,this.Storage=n,this.settings={levels:[],games:{},namesExcluded:[],setupLevel:"",numToChoose:2,preventConflicts:!0},this.disabled={draw:!0,hide:!0,show:!0,redo:!0,reset:!0},this.aliensToShow=[],this.NOT_RESET=0,this.draw=(()=>this.setState(this.Generator.draw(this.settings.numToChoose,this.settings.preventConflicts))),this.hide=(()=>this.setState(this.Generator.hide())),this.show=(()=>this.setState(this.Generator.show())),this.redo=(()=>this.setState(this.Generator.redo(this.settings.numToChoose,this.settings.preventConflicts))),this.reset=(()=>{confirm("Reset list of aliens?")?this.change():this.NOT_RESET++,this.NOT_RESET>2&&(this.setState(this.Generator.getAllGiven()),this.NOT_RESET=0)}),this.restrictNumToChoose=(()=>{this.settings.numToChoose=this.Generator.getChooseLimit(this.settings.numToChoose),this.saveSettings()})}ngOnInit(){this.Aliens.init.subscribe(t=>{this.namesAll=t,this.settings=this.Storage.get("settings"),this.settings||(this.settings={}),this.settings.levels||(this.settings.levels=[!0,!0,!0]),this.settings.games||(this.settings.games={Encounter:!0}),this.settings.namesExcluded||(this.settings.namesExcluded=[]),this.settings.setupLevel||(this.settings.setupLevel=""),this.settings.numToChoose||(this.settings.numToChoose=2),void 0===this.settings.preventConflicts&&(this.settings.preventConflicts=!0),this.change()})}change(){if(this.settings){const t=this.Aliens.getMatchingNames(this.settings.levels,this.settings.games,this.settings.namesExcluded,this.settings.setupLevel);this.setState(this.Generator.reset(t)),this.restrictNumToChoose()}}onSelectGame(t){this.settings.games=t,this.change()}onSelectLevel(t){this.settings.levels=t,this.change()}saveSettings(){this.Storage.set("settings",this.settings)}setState(t){t&&(this.state=t.message,this.aliensToShow=t.aliens.map(t=>this.Aliens.get(t)),t.limit&&(this.settings.numToChoose=t.limit),this.status=this.Generator.getStatus(),this.disabled=this.Generator.getDisabledActions(this.settings.numToChoose,this.aliensToShow.length))}};c=s([o.Component({selector:"aliens-generator-app",styles:["\n\t\t#container { display: flex; flex: auto; flex-wrap: wrap; align-content: stretch; }\n\t\tmat-radio-button { display: block; margin: 16px 0; }\n\t\t#gen-actions { padding: 0 8px; }\n\t\t#gen-status { margin: 16px; }\n\t\t.space-right { margin-right: 16px; }\n\t"],template:n(213)}),i("design:paramtypes",[r.AlienService,l.AlienGeneratorService,a.LocalStorageService])],c),e.AlienGeneratorPage=c},215:function(t,e,n){"use strict";var s=this&&this.__decorate||function(t,e,n,s){var i,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});const i=n(83),o=n(0),a=n(24),r=n(30),l=n(120),c=n(105),h=n(76),d=n(214);let m=class{};m=s([o.NgModule({imports:[r.BrowserModule,l.NoopAnimationsModule,a.FormsModule,i.HttpClientModule,c.LocalStorageModule.withConfig({prefix:"alien-gen",storageType:"localStorage"}),h.ThemingModule],declarations:[d.AlienGeneratorPage,h.CosmicDrawerComponent,h.GameOptionsComponent,h.LevelOptionsComponent,h.AlienCardComponent,h.AlienGridComponent,h.LevelNamePipe,h.LevelStarsPipe],bootstrap:[d.AlienGeneratorPage]})],m),h.startApp(m)}});